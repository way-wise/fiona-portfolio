(function ($) {
	"use strict";
	/**
	 * @param $scope The Widget wrapper element as a jQuery element
	 * @param $ The jQuery alias
	 */
	// Make sure you run this code under Elementor.
	$(window).on("elementor/frontend/init", function () {
		// global widget
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/widget",
			function ($scope, $) {
				// background image
				let bgImage = $scope.find(".background-image");
				if (bgImage.length > 0) {
					bgImage.each(function () {
						$(this).css(
							"background-image",
							"url(" + $(this).attr("data-bg-image") + ")"
						);
					});
				}

				// title animation
				let titleAnimation = $scope.find(".tj-char-animation");
				if (titleAnimation.length > 0) {
					titleAnimation.each(function () {
						const splitTextLine = this; // Use the current element

						// Create a GSAP timeline for each title animation
						const tl = gsap.timeline({
							scrollTrigger: {
								trigger: splitTextLine,
								start: "top 90%",
								end: "bottom 50%",
								scrub: false,
								markers: false,
								toggleActions: "play none none none",
							},
						});

						// Split text using SplitText
						const itemSplitted = new SplitText(splitTextLine, {
							type: "chars, words",
						});
						gsap.set(splitTextLine, { perspective: 300 });
						tl.from(itemSplitted.chars, {
							duration: 1,
							delay: 0.5,
							x: 100,
							autoAlpha: 0,
							stagger: 0.05,
						});
					});
				}
			}
		);

		// tj-header
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-header.default",

			function ($scope, $) {
				let headerArea = $scope.find(".tj-header-area");
				let menuArea = $scope.find(".tj_header_menu");
				let mobileMenuArea = $scope.find(".tj_mobile_menu");
				var menuBar = $scope.find(".menu-bar");

				if (headerArea.length > 0) {
					// header sticky
					let lastScrollTop = 0;
					$(window).scroll(function () {
						let scroll = $(window).scrollTop();

						if (scroll > 300) {
							$(".headerSticky").addClass("sticky");
							$(".headerSticky").removeClass("sticky-out");
						} else if (scroll < lastScrollTop) {
							if (scroll < 500) {
								$(".headerSticky").addClass("sticky-out");
								$(".headerSticky").removeClass("sticky");
							}
						} else {
							$(".headerSticky").removeClass("sticky");
						}

						lastScrollTop = scroll;
					});

					// Hamburger Menu Js
					if (menuBar.length > 0) {
						$(`.menu-bar`).on("click", function () {
							$(`.menu-bar`).toggleClass("menu-bar-toggeled");
							$(`#${mobileMenuId}`).toggleClass("opened");
							$("body").toggleClass("overflow-hidden");
						});

						$(".mobile-menu ul li a")
							.not(".mean-expand")
							.on("click", function () {
								$(`.menu-bar`).removeClass("menu-bar-toggeled");
								$(`#${mobileMenuId}`).removeClass("opened");
								$("body").removeClass("overflow-hidden");
							});
					}

					// Mobile Menu js
					let menuId = menuArea.attr("id");
					let mobileMenuId = mobileMenuArea.attr("id");

					$(`#${menuId}`).meanmenu({
						meanMenuContainer: `#${mobileMenuId}`,
						meanScreenWidth: "991",
						meanExpand: [
							"<i class='fa-light fa-plus'></i> <i class='fa-light fa-minus'></i>",
						],
					});
				}
			}
		);

		// tj-hero-banner
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-hero-banner.default",

			function ($scope, $) {
				let hero4Area = $scope.find(".tj-hero-4-area");

				if (hero4Area.length > 0) {
				}

				// button hover animation
				$(".tj-btn-rounded").on("mouseenter", function (e) {
					var x = e.pageX - $(this).offset().left;
					var y = e.pageY - $(this).offset().top;
					$(this).find(".tj-btn-circle-dot").css({
						top: y,
						left: x,
					});
				});
				$(".tj-btn-rounded").on("mouseout", function (e) {
					var x = e.pageX - $(this).offset().left;
					var y = e.pageY - $(this).offset().top;
					$(this).find(".tj-btn-circle-dot").css({
						top: y,
						left: x,
					});
				});
			}
		);

		// tj-page-header
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-page-header.default",

			function ($scope, $) {
				let headerBg = $scope.find(".breadcrumb_area");

				if (headerBg.length > 0) {
					let dataImage = headerBg.attr("data-bg-image");

					if (dataImage.length < 0) {
						return;
					}

					headerBg.each(function () {
						$(this).css(
							"background-image",
							"url( " + $(this).attr("data-bg-image") + "  )"
						);
					});
				}
			}
		);

		// tj-counter
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-counter.default",

			function ($scope, $) {
				var $counterItem = $scope.find(".funfact-item");

				if ($counterItem.length > 0) {
					var $counter = $counterItem.find(".odometer");

					if ($counter.length > 0) {
						$counter.appear(function () {
							var odo = $counter;
							odo.each(function () {
								var countNumber = $(this).attr("data-count");
								$(this).html(countNumber);
							});
						});
					}
				}

				// counter home 06
				let $counterItem2 = $scope.find(".fun-fact-6");

				if ($counterItem2.length > 0) {
					var $counter = $counterItem2.find(".odometer");

					if ($counter.length > 0) {
						$counter.appear(function () {
							var odo = $counter;
							odo.each(function () {
								var countNumber = $(this).attr("data-count");
								$(this).html(countNumber);
							});
						});
					}
				}
			},

			function ($scope, $) {
				var $counterItem = $scope.find(".fun-fact-6 .number");
				console.log("hello");

				if ($counterItem.length > 0) {
					var $counter = $counterItem.find(".odometer");

					if ($counter.length > 0) {
						$counter.appear(function () {
							var odo = $counter;
							odo.each(function () {
								var countNumber = $(this).attr("data-count");
								$(this).html(countNumber);
							});
						});
					}
				}
			}
		);

		// tj-testimonials
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-testimonials.default",

			function ($scope, $) {
				let wrap = $scope.find(".carouselWrap");

				var loop = wrap.attr("data-loop") == "yes" ? true : false;
				var dots = wrap.attr("data-dot") == "yes" ? true : false;
				var nav = wrap.attr("data-nav") == "yes" ? true : false;
				var autoplay = wrap.attr("data-autoplay") == "yes" ? true : false;
				var delay = wrap.attr("data-delay") ? wrap.attr("data-delay") : "5000";
				var center = wrap.attr("data-center") == "yes" ? true : false;

				// responsive
				var slideShowMobile = wrap.attr("data-show-mobile")
					? wrap.attr("data-show-mobile")
					: "1";
				var slideShow768 = wrap.attr("data-show-768")
					? wrap.attr("data-show-768")
					: "1.5";
				var slideShow992 = wrap.attr("data-show-992")
					? wrap.attr("data-show-992")
					: "2";
				var slideShow1200 = wrap.attr("data-show-1200")
					? wrap.attr("data-show-1200")
					: "2";
				var slideShow1400 = wrap.attr("data-show-1400")
					? wrap.attr("data-show-1400")
					: "2";

				let testimonialCarousel = $scope.find(
					".testimonial-carousel.owl-carousel"
				);

				if (testimonialCarousel.length > 0) {
					let carouselId = testimonialCarousel.attr("id");

					$(`#${carouselId}`).owlCarousel({
						loop: loop,
						margin: 30,
						nav: false,
						autoWidth: true,
						dots: dots,
						autoplay: autoplay,
						active: true,
						smartSpeed: 1000,
						autoplayTimeout: delay,
						responsive: {
							0: {
								items: 1,
								autoWidth: false,
							},
							600: {
								items: 2,
								autoWidth: false,
							},
							1000: {
								items: 2,
							},
						},
					});
				}

				// carousel 2
				let testimonial2Carousel = $scope.find(
					".testimonial-carousel2.owl-carousel"
				);

				if (testimonial2Carousel.length > 0) {
					let carouselId = testimonial2Carousel.attr("id");

					$(`#${carouselId}`).owlCarousel({
						loop: loop,
						margin: 30,
						nav: false,
						// autoWidth: true,
						dots: dots,
						autoplay: autoplay,
						active: true,
						smartSpeed: 1000,
						autoplayTimeout: delay,
						responsive: {
							0: {
								items: 1,
							},
							600: {
								items: 2,
							},
							1000: {
								items: 2,
							},
						},
					});
				}

				// carousel h4
				let testimonial4Carousel = $scope.find(".tjSlider4.swiper");
				if (testimonial4Carousel.length > 0) {
					let carouselId = testimonial4Carousel.attr("id");

					var testimonial4 = new Swiper(`#${carouselId}`, {
						slidesPerView: 1,
						spaceBetween: 30,
						loop: loop,
						...(autoplay
							? {
									autoplay: {
										delay: delay,
									},
							  }
							: {}),

						...(dots
							? {
									pagination: {
										el: ".testimonial-pagination",
										clickable: true,
									},
							  }
							: {}),
						speed: 3000,
						breakpoints: {
							320: {
								slidesPerView: 1,
							},
							576: {
								slidesPerView: 1.5,
							},
							768: {
								slidesPerView: 2,
							},
							992: {
								slidesPerView: 3,
							},
						},
					});

					var star_rating_width = $(".fill-ratings span").width();
					$(".star-ratings").width(star_rating_width);
				}

				// carousel home 5
				let testimonial5Carousel = $scope.find(
					".owl-carousel.testimonial-carousel-h5"
				);

				if (testimonial5Carousel.length > 0) {
					let carouselId = testimonial5Carousel.attr("id");

					var testimonial5 = $(`#${carouselId}`).owlCarousel({
						loop: loop,
						items: 2,
						margin: 30,
						nav: false,
						dots: dots,
						autoplay: autoplay,
						active: true,
						smartSpeed: 1000,
						autoplayTimeout: delay,
						center: center,
						responsive: {
							0: {
								items: slideShowMobile,
							},
							768: {
								items: slideShow768,
							},
							992: {
								items: slideShow992,
							},
							1200: {
								items: slideShow1200,
							},
							1400: {
								items: slideShow1400,
							},
						},
					});

					var star_rating_width = $(".fill-ratings span").width();
					$(".star-ratings").width(star_rating_width);
				}

				// carousel home 07
				let testimonial7Carousel = $scope.find(".tj-testimonial-7-active");

				if (testimonial7Carousel.length > 0) {
					let carouselId = testimonial7Carousel.attr("id");

					var testimonialSwiper = new Swiper(`#${carouselId}`, {
						slidesPerView: 1,
						spaceBetween: 30,
						loop: loop,
						speed: 3000,

						...(autoplay
							? {
									autoplay: {
										delay: delay,
									},
							  }
							: {}),

						...(dots
							? {
									pagination: {
										el: ".testimonial-pagination",
										clickable: true,
									},
							  }
							: {}),

						...(nav
							? {
									navigation: {
										nextEl: ".slider-next",
										prevEl: ".slider-prev",
									},
							  }
							: {}),
					});
				}

				// carousel home 08
				let testimonial8Carousel = $scope.find(".tj-testimonial-slider8");
				if (testimonial8Carousel.length > 0) {
					let carouselId = testimonial8Carousel.attr("id");

					var testimonialSwiper = new Swiper(`#${carouselId}`, {
						slidesPerView: 3,
						spaceBetween: 30,
						loop: loop,
						...(autoplay
							? {
									autoplay: {
										delay: delay,
									},
							  }
							: {}),
						speed: 3000,
						...(dots
							? {
									pagination: {
										el: ".testimonial-pagination",
										clickable: true,
									},
							  }
							: {}),
						breakpoints: {
							320: {
								slidesPerView: 1,
							},
							576: {
								slidesPerView: 1.5,
							},
							768: {
								slidesPerView: 2,
							},
							1200: {
								slidesPerView: 3,
							},
						},
					});
				}

				// slider home 09
				let testimonial9Carousel = $scope.find(".tj-testimonial-9-active");

				if (testimonial9Carousel.length > 0) {
					let carouselId = testimonial9Carousel.attr("id");

					var slider = new Swiper(`#${carouselId}`, {
						direction: "vertical",
						slidesPerView: 1.8,
						spaceBetween: 30,
						centeredSlides: true,
						loop: loop,
						...(autoplay
							? {
									autoplay: {
										delay: delay,
									},
							  }
							: {}),
						speed: 1500,
					});
				}
			}
		);

		// tj-brands-carousel
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-brands-carousel.default",

			function ($scope, $) {
				let wrap = $scope.find(".carouselWrap");

				var loop = wrap.attr("data-loop") == "yes" ? true : false;
				var autoplay = wrap.attr("data-autoplay") == "yes" ? true : false;
				var delay = wrap.attr("data-delay") ? wrap.attr("data-delay") : "5000";

				let brandsCarousel = $scope.find(".brand-slider");

				if (brandsCarousel.length > 0) {
					let carouselId = brandsCarousel.attr("id");

					if (carouselId.length < 0) {
						return;
					}

					var brand = new Swiper(`#${carouselId}`, {
						slidesPerView: 2,
						spaceBetween: 30,
						loop: loop,
						...(autoplay
							? {
									autoplay: {
										delay: delay,
									},
							  }
							: {}),
						breakpoints: {
							576: {
								slidesPerView: 3,
							},
							640: {
								slidesPerView: 3,
							},
							768: {
								slidesPerView: 4,
							},
							992: {
								slidesPerView: 5,
							},
							1024: {
								slidesPerView: 6,
							},
						},
					});
				}
			}
		);

		// tj-gallery-slider
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-gallery-slider.default",

			function ($scope, $) {
				let wrap = $scope.find(".carouselWrap");

				var loop = wrap.attr("data-loop") == "yes" ? true : false;
				var dots = wrap.attr("data-dot") == "yes" ? true : false;
				var autoplay = wrap.attr("data-autoplay") == "yes" ? true : false;
				var delay = wrap.attr("data-delay") ? wrap.attr("data-delay") : "5000";

				let galleryCarousel = $scope.find(".portfolio_gallery.owl-carousel");

				if (galleryCarousel.length > 0) {
					let carouselId = galleryCarousel.attr("id");

					if (carouselId.length < 0) {
						return;
					}

					$(`#${carouselId}`).owlCarousel({
						items: 2,
						loop: loop,
						lazyLoad: true,
						center: true,
						// autoWidth: true,
						autoplay: autoplay,
						autoplayTimeout: delay,
						smartSpeed: 800,
						margin: 30,
						nav: false,
						dots: dots,
						responsive: {
							// breakpoint from 0 up
							0: {
								items: 1,
								margin: 0,
							},
							// breakpoint from 768 up
							768: {
								items: 2,
								margin: 20,
							},
							992: {
								items: 2,
								margin: 30,
							},
						},
					});

					$(`#${carouselId}`).owlCarousel({
						loop: loop,
						margin: 30,
						nav: false,
						autoWidth: true,
						dots: dots,
						autoplay: autoplay,
						active: true,
						smartSpeed: 1000,
						autoplayTimeout: delay,
						responsive: {
							0: {
								items: 1,
							},
							600: {
								items: 2,
							},
							1000: {
								items: 2,
							},
						},
					});
				}
			}
		);

		// tj-portfolios
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-portfolios.default",

			function ($scope, $) {
				let portfolioBox = $scope.find(".portfolio-box");
				console.log(portfolioBox);

				let filterItems = $scope.find(".filter-button-group");
				let filterItem = $scope.find(".filter-button-group button");

				if (portfolioBox.length > 0) {
					if (portfolioBox.length < 0) {
						return;
					}

					let grid = portfolioBox.isotope({
						// options
						masonry: {
							columnWidth: ".portfolio-sizer",
							gutter: ".gutter-sizer",
						},
						itemSelector: ".portfolio-item",
						percentPosition: true,
					});

					// filter items on button click
					filterItems.on("click", "button", function () {
						filterItem.removeClass("active");
						$(this).addClass("active");

						var filterValue = $(this).attr("data-filter");
						grid.isotope({ filter: filterValue });
					});

					// active animation
					function filter_animation() {
						var active_bg = $(".portfolio-filter .button-group .active-bg");
						var element = $(".portfolio-filter .button-group .active");

						$(".portfolio-filter .button-group button").on(
							"click",
							function () {
								var e = $(this);
								activeFilterBtn(active_bg, e);
							}
						);

						activeFilterBtn(active_bg, element);
					}
					function activeFilterBtn(active_bg, e) {
						if (!e.length) {
							return false;
						}

						var leftOff = e.offset().left;
						var width = e.outerWidth();
						var height = e.outerHeight();
						var topOff = e.offset().top;
						var menuTop = $(".portfolio-filter .button-group").offset().top;
						var menuLeft = $(".portfolio-filter .button-group").offset().left;

						e.siblings().removeClass("active");
						e.addClass("active");

						active_bg.css({
							left: leftOff - menuLeft + "px",
							width: width + "px",
							height: height + "px",
							top: topOff - menuTop + "px", // Adjust the top of active-bg to align with the active button
						});
					}

					filter_animation();
				}

				// home 4
				let portfolioWrap = $scope.find(".portfolio-wrap");
				let portfolios = $scope.find(".portfolios");

				let project4Wrapper = $scope.find(
					".tj-project-4-wrappper, .tj-project-7-wrappper"
				);
				if (project4Wrapper.length > 0) {
					let portfolioWrapId = portfolioWrap.attr("id");
					let portfolioId = portfolios.attr("id");

					const adjustLayout = () => {
						var $container = $(`#${portfolioId}`);
						let winWidth = window.innerWidth;

						if (winWidth >= 1400) {
							$(`#${portfolioWrapId}`).css({
								marginLeft: -57 + "px",
								marginRight: -57 + "px",
							});
							let portfolioWidth = $(`#${portfolioId}`).width();

							let postWidth = Math.floor(portfolioWidth / 2);

							$container.find(".grid-item").each(function () {
								$(".grid-item").css({
									width: postWidth + "px",
									height: "auto",
									paddingLeft: 57 + "px",
									paddingRight: 57 + "px",
									paddingTop: 40 + "px",
									paddingBottom: 40 + "px",
								});
							});
						} else if (winWidth >= 1200) {
							$(`#${portfolioWrapId}`).css({
								marginLeft: -40 + "px",
								marginRight: -40 + "px",
							});
							let portfolioWidth = $(`#${portfolioId}`).width();

							let postWidth = Math.floor(portfolioWidth / 2);

							$container.find(".grid-item").each(function () {
								let postHeight = $(this).height();
								$(".grid-item").css({
									width: postWidth + "px",
									height: postHeight + "px",
									paddingLeft: 40 + "px",
									paddingRight: 40 + "px",
									paddingTop: 40 + "px",
									paddingBottom: 40 + "px",
								});
							});
						} else if (winWidth >= 992) {
							$(`#${portfolioWrapId}`).css({
								marginLeft: -25 + "px",
								marginRight: -25 + "px",
							});
							let portfolioWidth = $(`#${portfolioId}`).width();

							let postWidth = Math.floor(portfolioWidth / 2);

							$container.find(".grid-item").each(function () {
								$(".grid-item").css({
									width: postWidth + "px",
									height: "auto",
									paddingLeft: 25 + "px",
									paddingRight: 25 + "px",
									paddingTop: 25 + "px",
									paddingBottom: 25 + "px",
								});
							});
						} else if (winWidth >= 768) {
							$(`#${portfolioWrapId}`).css({
								marginLeft: -20 + "px",
								marginRight: -20 + "px",
							});
							let portfolioWidth = $(`#${portfolioId}`).width();

							let postWidth = Math.floor(portfolioWidth / 2);

							$container.find(".grid-item").each(function () {
								$(".grid-item").css({
									width: postWidth + "px",
									height: "auto",
									paddingLeft: 20 + "px",
									paddingRight: 20 + "px",
									paddingTop: 25 + "px",
									paddingBottom: 25 + "px",
								});
							});
						} else if (winWidth < 767) {
							$(`#${portfolioWrapId}`).css({
								marginLeft: -20 + "px",
								marginRight: -20 + "px",
							});
							let portfolioWidth = $(`#${portfolioId}`).width();

							let postWidth = Math.floor(portfolioWidth / 1);

							$container.find(".grid-item").each(function () {
								$(".grid-item").css({
									width: postWidth + "px",
									height: "auto",
									paddingLeft: 20 + "px",
									paddingRight: 20 + "px",
									paddingTop: 25 + "px",
									paddingBottom: 25 + "px",
								});
							});
						}
					};

					adjustLayout(); // Call on initial load

					$(window).resize(function () {
						adjustLayout(); // Call on window resize
					});

					$(`#${portfolioId}`).imagesLoaded(function () {
						$(`#${portfolioId}`).masonry({
							itemSelector: ".grid-item",
						});
					});
				}
			}
		);

		// tj-services
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-services.default",

			function ($scope, $) {
				let serviceItem = $scope.find(".service-item");

				if (serviceItem.length > 0) {
					if (serviceItem.length < 0) {
						return;
					}

					function service_animation() {
						var active_bg = $(".services-widget .active-bg");
						var element = $(".services-widget .current");
						$(".services-widget .service-item").on("mouseenter", function () {
							var e = $(this);
							activeService(active_bg, e);
						});
						$(".services-widget").on("mouseleave", function () {
							element = $(".services-widget .current");
							activeService(active_bg, element);
							element.closest(".service-item").siblings().removeClass("mleave");
						});
						activeService(active_bg, element);
					}
					service_animation();

					function activeService(active_bg, e) {
						if (!e.length) {
							return false;
						}
						var topOff = e.offset().top;
						var height = e.outerHeight();
						var menuTop = $(".services-widget").offset().top;
						e.closest(serviceItem).removeClass("mleave");
						e.closest(serviceItem).siblings().addClass("mleave");
						active_bg.css({
							top: topOff - menuTop + "px",
							height: height + "px",
						});
					}

					serviceItem.on("mouseover", function () {
						serviceItem.removeClass("current");
						$(this).addClass("current");
					});
				}
			}
		);

		// tj-services-carousel
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-services-carousel.default",

			function ($scope, $) {
				let wrap = $scope.find(".carouselWrap");

				var loop = wrap.attr("data-loop") == "yes" ? true : false;
				var dots = wrap.attr("data-dot") == "yes" ? true : false;
				var nav = wrap.attr("data-nav") == "yes" ? true : false;
				var autoplay = wrap.attr("data-autoplay") == "yes" ? true : false;
				var delay = wrap.attr("data-delay") ? wrap.attr("data-delay") : "5000";

				let servicesCarousel = $scope.find(".service-slider-8");

				if (servicesCarousel.length > 0) {
					let carouselId = servicesCarousel.attr("id");

					var service = new Swiper(`#${carouselId}`, {
						slidesPerView: 3,
						spaceBetween: 30,
						loop: loop,
						centeredSlides: true,
						speed: 2000,
						...(autoplay
							? {
									autoplay: {
										delay: delay,
									},
							  }
							: {}),

						...(nav
							? {
									navigation: {
										prevEl: ".service-prev",
										nextEl: ".service-next",
									},
							  }
							: {}),

						...(dots
							? {
									pagination: {
										el: ".service-pagination",
										clickable: true,
									},
							  }
							: {}),

						breakpoints: {
							320: {
								slidesPerView: 1,
							},
							430: {
								slidesPerView: 1.2,
							},
							768: {
								slidesPerView: 2,
							},
							1200: {
								slidesPerView: 3,
							},
						},
					});
				}
			}
		);

		// tj-marquee
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-marquee.default",

			function ($scope, $) {
				let marquee = $scope.find(".roll-box.swiper");
				if (marquee.length > 0) {
					let marqueeId = marquee.attr("id");

					if (marqueeId.length < 0) {
						return;
					}

					var marqueeSlider = new Swiper(`#${marqueeId}`, {
						loop: true,
						freemode: true,
						slidesPerView: "auto",
						spaceBetween: 0,
						centeredSlides: true,
						allowTouchMove: false,
						speed: 4000,
						autoplay: {
							delay: 0,
						},
					});
				}

				let marquee2 = $scope.find(".maquee-slider-one.swiper");
				if (marquee2.length > 0) {
					let marqueeId = marquee2.attr("id");

					if (marqueeId.length < 0) {
						return;
					}

					var marquee2Slider = new Swiper(`#${marqueeId}`, {
						slidesPerView: "auto",
						spaceBetween: 80,
						loop: true,
						speed: 5000,
						breakpoints: {
							320: {
								spaceBetween: 40,
							},
							1024: {
								spaceBetween: 80,
							},
						},
						allowTouchMove: false,
						autoplay: {
							delay: 1,
						},
					});
				}

				let marquee3 = $scope.find(".maquee-slider-9.swiper");
				if (marquee3.length > 0) {
					let marqueeId = marquee3.attr("id");

					if (marqueeId.length < 0) {
						return;
					}

					var marquee3Slider = new Swiper(`#${marqueeId}`, {
						slidesPerView: "auto",
						spaceBetween: 20,
						centeredSlides: true,
						loop: true,
						speed: 5000,
						allowTouchMove: false,
						autoplay: {
							delay: 1,
						},
					});
				}
			}
		);

		// tj-accordion
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-accordion.default",

			function ($scope, $) {
				let faqItem = $scope.find(".accordion-item .faq-title");

				if (faqItem.length > 0) {
					$(faqItem).on("click", function () {
						if ($(this).parent().hasClass("active")) {
							$(this).parent().removeClass("active");
						} else {
							$(this).parent().siblings().removeClass("active");
							$(this).parent().addClass("active");
						}
					});
				}
			}
		);

		// tj-cta
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-cta.default",

			function ($scope, $) {
				let anim = $scope.find("#anim");

				if (anim.length > 0) {
					const target = document.getElementById("anim");
					function splitTextToSpans(targetElement) {
						if (targetElement) {
							const text = targetElement.textContent;
							targetElement.innerHTML = "";
							for (let character of text) {
								const span = document.createElement("span");
								if (character === " ") {
									span.innerHTML = "&nbsp;";
								} else {
									span.textContent = character;
								}
								targetElement.appendChild(span);
							}
						}
					}
					splitTextToSpans(target);
				}
			}
		);

		// tj-skills
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-skills.default",

			function ($scope, $) {
				let progressBar = $scope.find(".progress_bar");
				let progressItem = $scope.find(".progress-item");

				if (progressBar.length > 0) {
					function progress_bar() {
						var speed = 30;
						progressItem.appear(function () {
							var item = $(this).find(".progress");
							var itemValue = item.data("progress");
							var i = 0;
							var value = $(this);
							var count = setInterval(function () {
								if (i <= itemValue) {
									var iStr = i.toString();
									item.css({
										width: iStr + "%",
									});
									value.find(".item_value").html(iStr + "%");
								} else {
									clearInterval(count);
								}
								i++;
							}, speed);
						});
					}
					progress_bar();
				}
			}
		);

		// tj-portfolio-carousel
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-portfolio-carousel.default",

			function ($scope, $) {
				let wrap = $scope.find(".carouselWrap");

				var loop = wrap.attr("data-loop") == "yes" ? true : false;
				var nav = wrap.attr("data-nav") == "yes" ? true : false;
				var dots = wrap.attr("data-dot") == "yes" ? true : false;
				var autoplay = wrap.attr("data-autoplay") == "yes" ? true : false;
				var delay = wrap.attr("data-delay") ? wrap.attr("data-delay") : "5000";

				let portfolioCarousel = $scope.find(".portfolio-slider-5");

				if (portfolioCarousel.length > 0) {
					let portfolioId = portfolioCarousel.attr("id");

					let portfolio = new Swiper(`#${portfolioId}`, {
						slidesPerView: 1,
						spaceBetween: 30,
						touchEventsTarget: "container",
						loop: loop,
						...(autoplay
							? {
									autoplay: {
										delay: delay,
									},
							  }
							: {}),

						...(dots
							? {
									pagination: {
										el: ".portfolio-pagination",
										clickable: true,
									},
							  }
							: {}),
						speed: 3000,
						breakpoints: {
							320: {
								slidesPerView: 1,
							},
							768: {
								slidesPerView: 1.5,
							},
							992: {
								slidesPerView: 2.5,
							},
							1200: {
								slidesPerView: 2.5,
							},
							1400: {
								slidesPerView: 2.5,
							},
						},
					});
				}

				// home 09
				let home9PortfolioCarousel = $scope.find(".tj-project-9-active");

				if (home9PortfolioCarousel.length > 0) {
					let portfolioId = home9PortfolioCarousel.attr("id");

					let slider = new Swiper(`#${portfolioId}`, {
						slidesPerView: 3,
						spaceBetween: 30,
						loop: loop,
						speed: 2000,
						centeredSlides: true,
						loop: loop,
						...(autoplay
							? {
									autoplay: {
										delay: delay,
									},
							  }
							: {}),

						...(dots
							? {
									pagination: {
										el: ".tj-project-9-pagination",
										clickable: true,
									},
							  }
							: {}),
						...(nav
							? {
									navigation: {
										prevEl: ".tj-project-9-prev",
										nextEl: ".tj-project-9-next",
									},
							  }
							: {}),
						breakpoints: {
							1200: {
								slidesPerView: 3,
							},
							992: {
								slidesPerView: 2,
							},
							768: {
								slidesPerView: 1.5,
							},
							0: {
								slidesPerView: 1,
							},
						},
					});
				}
			}
		);

		// blog
		elementorFrontend.hooks.addAction(
			"frontend/element_ready/tj-latest-posts.default",

			function ($scope, $) {
				let active_bg = $(".blog-wrapper-8 .active-bg");
				let element = $(".blog-wrapper-8 .current");
				$(".blog-wrapper-8 .blog-item").on("mouseenter", function () {
					let e = $(this);
					activeHover(active_bg, e);
				});
				$(".blog-wrapper-8").on("mouseleave", function () {
					element = $(".blog-wrapper-8 .current");
					activeHover(active_bg, element);
					element.closest(".blog-item").siblings().removeClass("mleave");
				});
				activeHover(active_bg, element);

				function activeHover(active_bg, e) {
					if (!e.length) {
						return false;
					}
					let topOff = e.offset().top;
					let height = e.outerHeight();
					let menuTop = $(".blog-wrapper-8").offset().top;
					e.closest(".blog-item").removeClass("mleave");
					e.closest(".blog-item").siblings().addClass("mleave");
					active_bg.css({
						top: topOff - menuTop + "px",
						height: height + "px",
					});
				}

				$(".blog-wrapper-8 .blog-item").on("click", function () {
					$(".blog-wrapper-8 .blog-item").removeClass("current");
					$(this).addClass("current");
				});

				const hoverItem = document.querySelectorAll(".anim-reveal-item");
				function moveImage(e, hoverItem, index) {
					const item = hoverItem.getBoundingClientRect();
					const x = e.clientX - item.x;
					const y = e.clientY - item.y;
					if (hoverItem.children[index]) {
						hoverItem.children[
							index
						].style.transform = `translate(${x}px, ${y}px)`;
					}
				}
				hoverItem.forEach((item, i) => {
					item.addEventListener("mousemove", e => {
						setInterval(moveImage(e, item, 1), 50);
					});
				});
			}
		);
	});
})(jQuery);
